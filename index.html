<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <!-- <script async src="https://www.googletagmanager.com/gtag/js?id=UA-151189402-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-151189402-1');
    </script> -->

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Pathfinder</title>

    <base href="/">

    <!-- See https://goo.gl/OOhYW5 -->
    <link rel="manifest" href="manifest.json">

    <link href="./index.css" rel="stylesheet">

    <script>
        /**
        * [polymer-root-path]
        *
        * Leave this line unchanged if you intend to serve your app from the root
        * path (e.g., with URLs like `my.domain/` and `my.domain/view1`).
        *
        * If you intend to serve your app from a non-root path (e.g., with URLs
        * like `my.domain/my-app/` and `my.domain/my-app/view1`), edit this line
        * to indicate the path from which you'll be serving, including leading
        * and trailing slashes (e.g., `/my-app/`).
        */
        window.MyAppGlobals = { rootPath: '/' };
  
        // Load and register pre-caching Service Worker
        if ('serviceWorker' in navigator) {
          window.addEventListener('load', function() {
            navigator.serviceWorker.register('service-worker.js', {
              scope: MyAppGlobals.rootPath
            });
          });
        }
    </script>

    <!-- Load webcomponents-loader.js to check and load any polyfills your browser needs -->
    <script src="./node_modules/@webcomponents/webcomponentsjs/webcomponents-loader.js"></script>
    
    <!-- Load pathfinder shell -->
    <script type="module" src="./src/pathfinder-main.js"></script>
    <!-- Get some cool icons -->
    <script type="module">
        import '@polymer/iron-icon/iron-icon.js';
        import '@polymer/iron-icons/iron-icons.js';
    </script>

</head>
<body>
    <div id="outer-container">
        <div id="link-bar">
            <div id="link-bar-logo-container">
                <div id="#link-bar-logo-image"></div>
                <div id="link-bar-logo-text">Visualizer</div>
            </div>
          
            <!-- My email address -->
            <a href="mailto:dylan.johnson.g@gmail.com">
                <iron-icon icon="mail"></iron-icon>
            </a>     
            
            <!-- GitHub -->
            <!-- <a href="https://github.com/johnsondylang">
                github
            </a> -->
            
            <!-- My Profile website -->   
            <a href="https://github.com/johnsondylang">
                <iron-icon icon="home"></iron-icon>
            </a>            
        </div>        
        <div id="inner-container">
            <pathfinder-main></pathfinder-main>
        </div>
    </div> 


    <!-- temporary message to display in IE or Edge until I can get the build working -->
    <div id="not-supported" style="display: none; position: absolute;top: 30%; left:250px">
        <p style="font-size:40px">
            This Browser is not supported.
            You can use almost any other browsers except IE or Edge...
        </p>
    </div>

    <script>
        // TODO: CREATE A BUILD THAT WORKS IN IE
        // until finished, display not supported message

        document.addEventListener("DOMContentLoaded", event => {
            // Internet Explorer 6-11
            const isIE = /*@cc_on!@*/false || !!document.documentMode;
            // Edge 20+
            const isEdge = !isIE && !!window.StyleMedia;

            if (isIE || isEdge) {
                document.querySelector("#outer-container").style.display = "none";
                document.querySelector("#not-supported").style.display = "block";
            }
        });

    </script>
</body>
</html>
